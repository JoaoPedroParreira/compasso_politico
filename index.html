<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compasso PolÃ­tico / Political Compass</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <header>
            <div class="logo">ðŸ§­ Compasso PolÃ­tico</div>
            <button id="lang-toggle" class="glass-btn">EN</button>
        </header>

        <main>
            <!-- Start Screen -->
            <section id="start-screen" class="active fade-in">
                <h1 data-pt="Descubra a sua posiÃ§Ã£o polÃ­tica" data-en="Discover your political position">Descubra a sua
                    posiÃ§Ã£o polÃ­tica</h1>
                <p data-pt="Responda Ã s questÃµes para gerar o seu perfil. As respostas sÃ£o anÃ³nimas."
                    data-en="Answer the questions to generate your profile. Answers are anonymous.">Responda Ã s questÃµes
                    para gerar o seu perfil. As respostas sÃ£o anÃ³nimas.</p>

                <div class="instruction-box">
                    <p data-pt="O teste consiste em vÃ¡rias afirmaÃ§Ãµes. Para cada uma, indique o quanto concorda ou discorda."
                        data-en="The test consists of several statements. For each one, indicate how much you agree or disagree.">
                        O teste consiste em vÃ¡rias afirmaÃ§Ãµes. Para cada uma, indique o quanto concorda ou discorda.</p>
                </div>

                <!-- Comparison Tools -->
                <div class="comparison-box glass-card">
                    <h3 data-pt="Modo ComparaÃ§Ã£o (Opcional)" data-en="Comparison Mode (Optional)">Modo ComparaÃ§Ã£o
                        (Opcional)</h3>
                    <label class="file-label">
                        <span data-pt="Carregar Resultados de Amigo (.JSON)"
                            data-en="Upload Friend's Results (.JSON)">Carregar Resultados de Amigo (.JSON)</span>
                        <input type="file" id="friend-file" accept=".json">
                    </label>
                    <div class="toggle-container">
                        <span data-pt="Modo Surpresa" data-en="Surprise Mode">Modo Surpresa</span>
                        <label class="switch">
                            <input type="checkbox" id="compare-mode-toggle">
                            <span class="slider round"></span>
                        </label>
                        <span data-pt="Modo Aberto" data-en="Open Mode">Modo Aberto</span>
                    </div>
                </div>

                <!-- Quiz Mode Selection -->
                <div class="comparison-box glass-card" style="margin-top: 15px;">
                    <h3 data-pt="Modo de Jogo" data-en="Game Mode">Modo de Jogo</h3>

                    <div class="mode-selector">
                        <label class="mode-option">
                            <input type="radio" name="gameMode" value="full" checked>
                            <span class="mode-label">100%</span>
                        </label>
                        <label class="mode-option">
                            <input type="radio" name="gameMode" value="half">
                            <span class="mode-label">50%</span>
                        </label>
                        <label class="mode-option">
                            <input type="radio" name="gameMode" value="quarter">
                            <span class="mode-label">25%</span>
                        </label>
                    </div>

                    <p style="font-size: 0.8em; margin-top: 10px; opacity: 0.8; text-align: center;">
                        <span data-pt="100% (Todos), 50% (~120), 25% (~60)" data-en="100% (All), 50% (~120), 25% (~60)">
                            100% (Todos), 50% (~120), 25% (~60)
                        </span>
                    </p>
                </div>

                <button id="start-btn" class="primary-btn pulse">
                    <span data-pt="ComeÃ§ar o Teste" data-en="Start Quiz">ComeÃ§ar o Teste</span>
                </button>
            </section>

            <!-- Quiz Screen -->
            <section id="quiz-screen" class="hidden">
                <div class="progress-bar-container">
                    <div id="progress-bar"></div>
                </div>

                <div class="quiz-header-row">
                    <div class="question-number">
                        <span data-pt="QuestÃ£o" data-en="Question">QuestÃ£o</span> <span id="current-q">1</span> / <span
                            id="total-q">100</span>
                    </div>
                    <button id="prev-btn" class="glass-btn small-btn hidden">
                        â¬… <span data-pt="Voltar" data-en="Back">Voltar</span>
                    </button>
                </div>

                <div class="card glass-card">
                    <h2 id="question-text">...</h2>
                    <div id="friend-indicator" class="friend-indicator hidden">
                        ðŸ‘¤ <span id="friend-answer-text">Amigo: ...</span>
                    </div>
                </div>

                <div class="answers-container">
                    <button class="answer-btn" data-val="strongly_agree" data-score="3" style="--btn-color: #006400;">
                        <span data-pt="Concordo Fortemente" data-en="Strongly Agree">Concordo Fortemente</span>
                        <span class="friend-marker hidden">ðŸ‘¤</span>
                    </button>
                    <button class="answer-btn" data-val="agree" data-score="2" style="--btn-color: #00a000;">
                        <span data-pt="Concordo" data-en="Agree">Concordo</span>
                        <span class="friend-marker hidden">ðŸ‘¤</span>
                    </button>
                    <button class="answer-btn" data-val="partially_agree" data-score="1" style="--btn-color: #90ee90;">
                        <span data-pt="Concordo Parcialmente" data-en="Partially Agree">Concordo Parcialmente</span>
                        <span class="friend-marker hidden">ðŸ‘¤</span>
                    </button>
                    <button class="answer-btn" data-val="neutral" data-score="0" style="--btn-color: #808080;">
                        <span data-pt="Neutro / Inseguro" data-en="Neutral / Unsure">Neutro / Inseguro</span>
                        <span class="friend-marker hidden">ðŸ‘¤</span>
                    </button>
                    <button class="answer-btn" data-val="partially_disagree" data-score="-1"
                        style="--btn-color: #f08080;">
                        <span data-pt="Discordo Parcialmente" data-en="Partially Disagree">Discordo Parcialmente</span>
                        <span class="friend-marker hidden">ðŸ‘¤</span>
                    </button>
                    <button class="answer-btn" data-val="disagree" data-score="-2" style="--btn-color: #ff0000;">
                        <span data-pt="Discordo" data-en="Disagree">Discordo</span>
                        <span class="friend-marker hidden">ðŸ‘¤</span>
                    </button>
                    <button class="answer-btn" data-val="strongly_disagree" data-score="-3"
                        style="--btn-color: #8b0000;">
                        <span data-pt="Discordo Totalmente" data-en="Strongly Disagree">Discordo Totalmente</span>
                        <span class="friend-marker hidden">ðŸ‘¤</span>
                    </button>
                </div>
            </section>

            <!-- Result Screen -->
            <section id="result-screen" class="hidden">
                <div class="result-card glass-card wide-card">
                    <h2 data-pt="Resultados" data-en="Results">Resultados</h2>

                    <!-- 10 GROUPS COMPASS GRID -->
                    <div class="compass-grid">
                        <div class="compass-item">
                            <h4>Economic</h4>
                            <div class="chart-wrapper"><canvas id="chart-eco"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Governmental</h4>
                            <div class="chart-wrapper"><canvas id="chart-gov"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Diplomatic</h4>
                            <div class="chart-wrapper"><canvas id="chart-dip"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Societal</h4>
                            <div class="chart-wrapper"><canvas id="chart-soc"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Technological</h4>
                            <div class="chart-wrapper"><canvas id="chart-tech"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Law</h4>
                            <div class="chart-wrapper"><canvas id="chart-law"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Cultural</h4>
                            <div class="chart-wrapper"><canvas id="chart-cul"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Procedural</h4>
                            <div class="chart-wrapper"><canvas id="chart-proc"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Political</h4>
                            <div class="chart-wrapper"><canvas id="chart-pol"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Philosophy A (Social/Change)</h4>
                            <div class="chart-wrapper"><canvas id="chart-phil_a"></canvas></div>
                        </div>
                        <div class="compass-item">
                            <h4>Philosophy B (Moral/Ethics)</h4>
                            <div class="chart-wrapper"><canvas id="chart-phil_b"></canvas></div>
                        </div>
                    </div>

                    <!-- IDEOLOGY MAP -->
                    <div class="ideology-map-container" id="ideology-map-container">
                        <img src="ideologies.png" alt="Political Compass" class="ideology-bg">
                        <div id="ideology-dot" class="ideology-dot"></div>
                    </div>

                    <!-- DETAILED BARS SECTION -->
                    <div class="detailed-bars-container" id="detailed-bars">
                        <!-- Bars will be injected by JS -->
                    </div>

                    <p data-pt="Obrigado por participar. FaÃ§a o download para guardar ou comparar com amigos."
                        data-en="Thank you for participating. Download to save or compare with friends.">Obrigado por
                        participar. FaÃ§a o download para guardar ou comparar com amigos.</p>

                    <button id="download-btn" class="primary-btn">
                        <span data-pt="Descarregar Respostas (.JSON)" data-en="Download Answers (.JSON)">Descarregar
                            Respostas (.JSON)</span>
                    </button>

                    <button id="restart-btn" class="secondary-btn">
                        <span data-pt="Voltar ao InÃ­cio" data-en="Back to Start">Voltar ao InÃ­cio</span>
                    </button>
                </div>
            </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="questions_part1.js"></script>
    <script src="questions_part2.js"></script>
    <script src="questions_part3.js"></script>
    <script src="questions_main.js"></script>
    <script src="script.js"></script>
</body>

</html>